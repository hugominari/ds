function loadPermissions(e,s){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(e){var i=$(s)||$(".load-permission"),r=i.attr("data-source");if(i.length>0){var n={role_id:e,user_id:t};$.ajax({url:r,type:"POST",data:n,success:function(e){if(e.success){var t=e.permissions,i="<ul style='list-style: none;padding: 0'>",r=dev.showOnly?"disabled":"";if(_.size(t)>0){for(var n=new Array,o=0;o<=_.size(t);o++){var a=t[o];if(void 0!==a){var l=a.selected?"checked":"";i+="<li class='w-r-50 pull-left'>",i+="\t\t<div class='switch'>",i+="\t\t\t\t<label class='bs-switch w-r-100'>",i+="\t\t\t\t\t\t<input type='checkbox' id='id"+a.id+"' value='"+a.id+"' name='permissions[]' "+l+"  "+r+" >",i+="\t\t\t\t\t\t<span class='lever'></span>"+a.name,i+="\t\t\t\t</label>",i+="\t\t</div>",i+="</li>",a.selected&&n.push(a.id)}}dev.showOnly&&(i+="<input type='hidden' value='["+n+"]' name='permissions[]'>")}else i+="<li><p class='text-center'>Nenhuma permiss√£o cadastrada nesse perfil!</p></li>";i+="</ul>",$(s).html(i),dev.readOnly&&($("section.content :input").attr("disabled",!0),$("section.content :input").prop("disabled",!0))}else generateNotify("Erro","Ocorreu algum erro.","error")},error:function(e){console.log(e),generateNotify("Error:","Ocorreu um erro inesperado","error")}})}}else console.log("Missing Parameters to execute function")}$(document).ready(function(){if(dev.editing||dev.readOnly){var e=dev.RoleId||$("#profile").val(),s=$("form").attr("data-id")||dev.userId;setTimeout(function(){loadPermissions(e,".permissions-box",s)},400)}dev.readOnly&&setTimeout(function(){var e=$(".permissions-box input");$.each(e,function(e,s){$(this).prop("disabled",!0)})},900)}),$("body").on("change","#profile",function(){loadPermissions($(this).val(),".permissions-box")});
